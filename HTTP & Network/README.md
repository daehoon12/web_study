# HTTP & Network  

## 1 HTTP와 TCP/IP  

### 1.1 HTTP  
- 웹 서버와 웹 클라이언트가 데이터를 주고 받을 수 있는 프로토콜  
- 처음 나올 당시에는 주로 텍스트를 전송. 지금은 그림 동영상 뿐 아니라 웹이라는 틀을 넘어 다양하게 사용되고 있음.  

### 1.2 TCP/IP  
- 인터넷에서 컴퓨터들이 서로 정보를 주고받는 데 쓰이는 통신규약(프로토콜)의 모음. (TCP, IP, UDP, HTTP, ICMP 등)   
- **애플리케이션, 트랜스포트, 네트워크, 링크 계층**으로 나뉨

#### 1.2.1 TCP/IP 4 Layers  
1. 애플리케이션 : 유저에게 제공되는 애플리케이션에서 사용하는 통신의 움직임을 결정 (HTTP, DNS)  
2. 트랜스포트 : 애플리케이션 계층에 네트워크로 접속되어 있는 2대의 컴퓨터 사이의 데이터 흐름을 제공 (TCP, UDP)  
3. 네트워크 : 네트워크 상에서 패킷의 이동을 다룸. (라우팅) 주 프로토콜은 IP.    
4. 링크 : 네트워크에 접속하는 하드웨어적인 면을 다룸.  

#### 1.2.1 TCP/IP 통신의 흐름  
1. 클라이언트에서 어느 웹 페이지를 보고 싶다는 HTTP Request를 **어플리케이션 계층**에 알림  
2. 그 아래에 있는 트랜스포트 계층에서는 위에서 받은 HTTP 메시지를 쉽게 조각내고 안내 **안내 번호와 포트 번호**를 붙여 네트워크 계층에 전달  
3. 네트워크 계층(IP)에서는 수신지 MAC 주소를 추가해 링크 계층에 전달. (여기까지 캡슐화) 
4. 서버는 링크 계층에서 데이터를 받아들여 순서대로 위의 계층에 전달  
5. 서버 어플리케이션 게층은 HTTP 리퀘스트 내용을 수신하고 Response를 보낸다.  

### 1.3 IP/TCP/DNS  

#### 1.3.1 IP  
- IP주소와 MAC 주소를 통해 개개의 패킷을 상대방에게 전달하는 프로토콜.  
- IP 주소는 각 노드에 부여된 주소, MAC 주소는 NIC에 할당된 고유의 주소. IP 주소는 변경이 가능하지만 MAC 주소는 변경이 불가능하다.  
- ARP (Address Resolution Protocol)을 사용해 IP 주소를 바탕으로 보낼 MAC 주소를 조사.  

#### 1.3.2 TCP  
- 신뢰성 있는 데이터 전송 서비스를 제공.  
- 데이터를 확실하게 보내기 위해 **3 way handshaking** 사용.  
<details>
<summary>3 way handshaking</summary>  
</br>
<p> - 송신측에서 수신측에 접속함과 동시에 SYN 플래그를 보내면, 수신측에서는 송신측으로 접속과 동시에 SYN/ACK 플래그로 패킷을 수신했다고 알린다. 마지막으로 송신측에서 ACK 플래그를 보냄으로 패킷 교환이 완료되었음을 알림 </p>    
</details>

#### 1.3.3 DNS  
- 도메인 이름과 IP 주소 이름 확인을 제공하는 프로토콜  
- 주로 사용하는 IP 주소 대신 이름을 이용해 상대의 컴퓨터를 지정.  
- 컴퓨터가 주로 사용하는 IP 주소 대신 인간에게 친숙한 영어나 숫자 등으로 표기하기 위함.  

<details>
<summary>DNS의 동작</summary>  
</br>
<p> 1. 송신 측에서 도메인 명을 통해 hackr.kr 웹 페이지에 접속 요청 </p>
<p> 2. DNS는 도메인 명을 받아 hackr.kr IP 주소를 송신 측에 전달 </p>
<p> 3. DNS에서 받은 IP 주소를 통해 hackr.kr 웹 페이지에 접속 </p>
</details>

### 1.4 URI와 URL  
- URI(Uniform Resource Identifier) : 인터넷상 표현할수 있는 모든 리소스를 의미. (URL, URN)
- URL(Uniform Resource Locator) : URI에서 네트워크상 경로, 어떤 자원의 위치에 대한 절대경로값을 지닌 문자열를 의미.
- URN은 거의 쓰지 않아 보통 URI = URL이라 생각하면 됨.  

<details>
<summary>URL 포맷</summary>  
</br>

#### http://user:pass@www.example.kr:80/dir/index.htm?uid=1#ch1  

1. 송신 측에서 도메인 명을 통해 hackr.kr 웹 페이지에 접속 요청  
2. DNS는 도메인 명을 받아 hackr.kr IP 주소를 송신 측에 전달  
3. DNS에서 받은 IP 주소를 통해 hackr.kr 웹 페이지에 접속  
</details> 


<details>
<summary>1.1 HTTP</summary>  
</br>
<p> - 웹 서버와 웹 클라이언트가 데이터를 주고 받을 수 있는 프로토콜</p>  
<p> - 처음 나올 당시에는 주로 텍스트를 전송. 지금은 그림 동영상 뿐 아니라 웹이라는 틀을 넘어 다양하게 사용되고 있음.</p>    
</details>
